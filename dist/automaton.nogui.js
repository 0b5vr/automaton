/*! Automaton v2.0.5 - (c) FMS_Cat, MIT License */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Automaton=e():t.Automaton=e()}(this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.__time=0,this.__deltaTime=0,this.__isPlaying=!0}return Object.defineProperty(t.prototype,"time",{get:function(){return this.__time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaTime",{get:function(){return this.__deltaTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.__isPlaying},enumerable:!0,configurable:!0}),t.prototype.update=function(t){var e=this.__time;this.__time=t,this.__deltaTime=this.__time-e},t.prototype.play=function(){this.__isPlaying=!0},t.prototype.pause=function(){this.__isPlaying=!1},t.prototype.setTime=function(t){this.__time=t},t}();e.Clock=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.default=o.Automaton},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),s=n(3),u=n(4),a=n(5),_=n(6),c=function(t){function e(e){var n=t.call(this)||this;return n.auto=n.__auto.bind(n),n.__version="2.0.5",n.__length=1,n.__resolution=1e3,n.__params={},n.__fxDefs={},n.__isLoop=e.loop||!1,n.__clock=e.fps?new s.ClockFrame(e.fps):e.realtime?new u.ClockRealtime:new i.Clock,e.data&&n.load(e.data),n}return r(e,t),Object.defineProperty(e.prototype,"version",{get:function(){return this.__version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.__length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this.__resolution},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.__clock.time},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaTime",{get:function(){return this.__clock.deltaTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progress",{get:function(){return this.__clock.time/this.__length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.__clock.isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this.__clock.frame||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fps",{get:function(){return this.__clock.fps||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRealtime",{get:function(){return this.__clock.isRealtime||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoop",{get:function(){return this.__isLoop},enumerable:!0,configurable:!0}),e.prototype.createParam=function(t,e){this.__params[t]=new _.Param(this,e)},e.prototype.load=function(t){for(var e in this.__length=t.length,this.__resolution=t.resolution,t.params)this.createParam(e,t.params[e])},e.prototype.seek=function(t){this.__clock.setTime(t),this.emit("seek")},e.prototype.play=function(){this.__clock.play(),this.emit("play")},e.prototype.pause=function(){this.__clock.pause(),this.emit("pause")},e.prototype.addFxDefinition=function(t,e){this.__fxDefs[t]=e,this.precalcAll()},e.prototype.getFxDefinition=function(t){return this.__fxDefs[t]||null},e.prototype.precalcAll=function(){Object.values(this.__params).forEach(function(t){return t.precalc()})},e.prototype.update=function(t){this.__clock.update(t),this.__isLoop&&(this.time<0||this.length<this.time)&&this.__clock.setTime(this.time-Math.floor(this.time/this.length)*this.length),Object.values(this.__params).forEach(function(t){return t.getValue()})},e.prototype.__auto=function(t){return this.__params[t].getValue()},e}(a.EventEmitter);e.Automaton=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;return n.__frame=0,n.__fps=e,n}return r(e,t),Object.defineProperty(e.prototype,"frame",{get:function(){return this.__frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fps",{get:function(){return this.__fps},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.__isPlaying?(this.__time=this.__frame/this.__fps,this.__deltaTime=1/this.__fps,this.__frame++):this.__deltaTime=0},e.prototype.setTime=function(t){this.__frame=Math.floor(this.__fps*t),this.__time=this.__frame/this.__fps},e}(n(0).Clock);e.ClockFrame=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__rtTime=0,e.__rtDate=performance.now(),e}return r(e,t),Object.defineProperty(e.prototype,"isRealtime",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t=performance.now();if(this.__isPlaying){var e=this.__time,n=t-this.__rtDate;this.__time=this.__rtTime+n/1e3,this.__deltaTime=this.time-e}else this.__rtTime=this.time,this.__rtDate=t,this.__deltaTime=0},e.prototype.setTime=function(t){this.__time=t,this.__rtTime=this.time,this.__rtDate=performance.now()},e}(n(0).Clock);e.ClockRealtime=i},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,r="~";function i(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function u(t,e,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new s(n,o||t,i),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],u]:t._events[a].push(u):(t._events[a]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function _(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),_.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},_.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,s=new Array(i);o<i;o++)s[o]=n[o].fn;return s},_.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},_.prototype.emit=function(t,e,n,o,i,s){var u=r?r+t:t;if(!this._events[u])return!1;var a,_,c=this._events[u],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,o),!0;case 5:return c.fn.call(c.context,e,n,o,i),!0;case 6:return c.fn.call(c.context,e,n,o,i,s),!0}for(_=1,a=new Array(f-1);_<f;_++)a[_-1]=arguments[_];c.fn.apply(c.context,a)}else{var l,p=c.length;for(_=0;_<p;_++)switch(c[_].once&&this.removeListener(t,c[_].fn,void 0,!0),f){case 1:c[_].fn.call(c[_].context);break;case 2:c[_].fn.call(c[_].context,e);break;case 3:c[_].fn.call(c[_].context,e,n);break;case 4:c[_].fn.call(c[_].context,e,n,o);break;default:if(!a)for(l=1,a=new Array(f-1);l<f;l++)a[l-1]=arguments[l];c[_].fn.apply(c[_].context,a)}}return!0},_.prototype.on=function(t,e,n){return u(this,t,e,n,!1)},_.prototype.once=function(t,e,n){return u(this,t,e,n,!0)},_.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,i);else{for(var u=0,_=[],c=s.length;u<c;u++)(s[u].fn!==e||o&&!s[u].once||n&&s[u].context!==n)&&_.push(s[u]);_.length?this._events[i]=1===_.length?_[0]:_:a(this,i)}return this},_.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},_.prototype.off=_.prototype.removeListener,_.prototype.addListener=_.prototype.on,_.prefixed=r,_.EventEmitter=_,t.exports=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),r=function(){function t(t,e){this.__nodes=[],this.__fxs=[],this.__lastValue=0,this.__lastTime=0,this.__automaton=t,this.__values=new Float32Array(this.__automaton.resolution*this.__automaton.length+1),e&&this.load(e)}return t.prototype.load=function(t){this.__nodes=t.nodes,this.__fxs=t.fxs,this.precalc()},t.prototype.precalc=function(){for(var t=0;t<this.__nodes.length-1;t++){var e=this.__nodes[t],n=this.__nodes[t+1],r=Math.floor(e.time*this.__automaton.resolution),i=Math.floor(n.time*this.__automaton.resolution);this.__values[r]=e.value;for(var s=r+1;s<=i;s++){var u=s/this.__automaton.resolution,a=o.cubicBezier(e,n,u);this.__values[s]=a}}for(var _=0;_<this.__fxs.length;_++){var c=this.__fxs[_];if(!c.bypass){var f=this.__automaton.getFxDefinition(c.def);if(f){r=Math.ceil(this.__automaton.resolution*c.time),i=Math.floor(this.__automaton.resolution*(c.time+c.length));var l=new Float32Array(i-r),p=l.length,h={i:r,index:r,i0:r,i1:i,t:c.time,time:c.time,t0:c.time,t1:c.time+c.length,dt:1/this.__automaton.resolution,deltaTime:1/this.__automaton.resolution,v:0,value:0,p:0,progress:0,resolution:this.__automaton.resolution,length:c.length,params:c.params,array:this.__values,getValue:this.getValue.bind(this),init:!0,state:{}};for(s=0;s<p;s++)h.i=h.index=s+r,h.t=h.time=h.i/this.__automaton.resolution,h.v=h.value=this.__values[s+r],h.p=h.progress=(h.t-c.time)/c.length,l[s]=f.func(h),h.init=!1;this.__values.set(l,r)}}}},t.prototype.getValue=function(t){if(void 0===t&&(t=this.__automaton.time),t===this.__lastTime)return this.__lastValue;var e=t;if(this.__automaton.isLoop&&(e-=Math.floor(e/this.__automaton.length)*this.__automaton.length),e<=0)return this.__values[0];if(this.__automaton.length<=e)return this.__values[this.__values.length-1];var n=e*this.__automaton.resolution,o=Math.floor(n),r=n%1,i=this.__values[o],s=i+(this.__values[o+1]-i)*r;return this.__lastTime=e,this.__lastValue=s,s},t}();e.Param=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=4,r=.001,i=10,s=1e-6,u=21,a=[];function _(t,e){return 1-3*e+3*t}function c(t,e){return 3*e-6*t}function f(t){return 3*t}function l(t){return Math.min(Math.max(t,0),1)}function p(t,e,n){return((_(e,n)*t+c(e,n))*t+f(e))*t}function h(t,e,n){return 3*_(e,n)*t*t+2*c(e,n)*t+f(e)}function m(t,e,n,_,c){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(_))return c;if(t===e&&n===_)return c;if(c<=0)return 0;if(1<=c)return 1;t=l(t),n=l(n);for(var f=0;f<u;f++)a[f]=p(f/(u-1),t,n);var m=1;for(f=1;f<u&&(m=f-1,!(c<a[f]));f++);var y=(m+(c-a[m])/(a[m+1]-a[m]))/(u-1),v=h(y,t,n);return r<=v?y=function(t,e,n,r){for(var i=0;i<o;i++){var s=h(e,n,r);if(0===s)return e;e-=(p(e,n,r)-t)/s}return e}(c,y,t,n):0!==v&&(y=function(t,e,n,o,r){for(var u=0,a=0,_=0;_<i&&(0<(u=p(a=e+(n-e)/2,o,r)-t)?n=a:e=a,!(s<Math.abs(u)));_++);return a}(c,m/(u-1),(m+1)/(u-1),t,n)),p(y,e,_)}e.rawCubicBezier=m,e.cubicBezier=function(t,e,n){var o=e.time-t.time,r=e.value-t.value,i=(t.out?t.out.time:0)/o,s=(t.out?t.out.value:0)/r,u=(e.time+(e.in?e.in.time:0)-t.time)/o,a=(e.value+(e.in?e.in.value:0)-t.value)/r,_=(n-t.time)/o;return t.value+m(i,s,u,a,_)*r}}]).default});